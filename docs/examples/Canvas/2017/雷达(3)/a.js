!function(t,i){if("object"==typeof exports&&"object"==typeof module)module.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var s=i();for(var e in s)("object"==typeof exports?exports:t)[e]=s[e]}}(this,function(){return function(t){function i(e){if(s[e])return s[e].exports;var h=s[e]={exports:{},id:e,loaded:!1};return t[e].call(h.exports,h,h.exports,i),h.loaded=!0,h.exports}var s={};return i.m=t,i.c=s,i.p="",i(0)}([function(t,i,s){"use strict";s(1)},function(t,i,s){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}var h=s(2),n=e(h),o=new n.default("cvs");o.data=[{color:"#c7b775",value:.2,text:"流动性"},{color:"#60588a",value:1.2,text:"保障性"},{color:"#526584",value:1.2,text:"风险性"},{color:"#c7a975",value:1.2,text:"收益性"}],o.CENTER_TEXT={value:"4.8",text:"综合评分: 良好"},o.init()},function(t,i,s){"use strict";function e(t,i,s){this.x=0,this.y=0,this.width=t,this.height=i,this.fillStyle=s,this.visible=!0}function h(t,i,s,e,h,n){this.x=0,this.y=0,this.radius=t,this.sAngle=i,this.eAngle=s,this.lineWidth=e,this.strokeStyle=h,this.fillStyle=n||"rgba(0, 0, 0, 0)",this.visible=!0}function n(t,i,s){this.x=0,this.y=0,this.font=t,this.text=i,this.fillStyle=s,this.visible=!0}function o(t,i,s){this.x=0,this.y=0,this.width=t,this.height=i,this.fillStyle=s,this.visible=!0}function a(t,i,s,e,h,n,o,a){this.x=t,this.y=i,this.side=s,this.radius=e,this.lineWidth=h,this.fillStyle=n,this.strokeStyle=o,this.points=[],this.rotate=void 0===a?30:a,this.init(),this.visible=!0}function r(t,i){this.x=0,this.y=0,this.sAngle=void 0===i?90:i,this.radius=t,this.copies=60,this.visible=!0}function l(t){this.canvas=document.getElementById(t),this.canvas.width=this.canvas.height=Math.min(window.innerWidth,window.innerHeight),this.width=this.canvas.width,this.height=this.canvas.height,this.cx=this.width/2,this.cy=this.height/2,this.context=this.canvas.getContext("2d"),this.data=[{color:"#c7a975",value:.2,text:"保障性"},{color:"#c7b775",value:1.2,text:"流动性"},{color:"#60588a",value:1.2,text:"保值性"},{color:"#526584",value:1.2,text:"收益性"}],this.CENTER_TEXT={value:"4.8",text:"综合评分: 良好"}}Object.defineProperty(i,"__esModule",{value:!0}),s(3),s(4);var E={d2a:function(t){return t*Math.PI/180},a2d:function(t){return 180*t/Math.PI}};e.prototype={draw:function(t){return!!this.visible&&(t.beginPath(),t.fillStyle=this.fillStyle,t.moveTo(this.x,this.y),t.lineTo(this.x-this.width/2,this.y),t.lineTo(this.x,this.y-this.height),t.lineTo(this.x+this.width/2,this.y),void t.fill())}},h.prototype={draw:function(t){return!!this.visible&&(t.beginPath(),t.strokeStyle=this.strokeStyle,t.fillStyle=this.fillStyle,t.lineWidth=this.lineWidth,t.arc(this.x,this.y,this.radius,this.sAngle,this.eAngle),t.stroke(),void t.fill())}},n.prototype={draw:function(t){return!!this.visible&&(t.beginPath(),t.fillStyle=this.fillStyle,t.textAlign="center",t.textBaseline="middle",t.font=this.font,void t.fillText(this.text,this.x,this.y))}},o.prototype={draw:function(t){return!!this.visible&&(t.beginPath(),t.fillStyle=this.fillStyle,t.rect(this.x,this.y,this.width,-this.height),void t.fill())}},a.prototype={init:function(){for(var t=this.side+1;t--;){var i=360/this.side,s=E.d2a(t*i+this.rotate),e=Math.cos(s)*this.radius+this.x,h=Math.sin(s)*this.radius+this.y;this.points.push({x:e,y:h})}},draw:function(t,i,s){return!!this.visible&&(t.save(),t.beginPath(),t.strokeStyle=this.strokeStyle,t.fillStyle=this.fillStyle,t.lineWidth=this.lineWidth,t.moveTo(this.points[0].x,this.points[0].y),this.points.forEach(function(i){t.lineTo(i.x,i.y)}.bind(this)),t.fill(),t.stroke(),t.closePath(),void t.restore())}},r.prototype={draw:function(t,i){if(!this.visible)return!1;i=i||0;var s=i,e=0,h=Math.max(Math.ceil(Math.min(i,360)/360*this.copies),10);t.lineJoin="round";for(var n=h;n>0;n--)e=n/h*i,t.beginPath(),t.fillStyle="rgba(255, 255, 255, "+n/h/2+")",t.moveTo(this.x,this.y),t.arc(this.x,this.y,this.radius,E.d2a(this.sAngle+s),E.d2a(this.sAngle+e),!0),t.fill(),s=e}},l.prototype={p2d:function(t){return t*this.ONE_COPIE_DEG/this.RADIX},d2p:function(t){return t/this.ONE_COPIE_DEG*this.RADIX},addElement:function(){this.OUTER=new h(this.OUTER_LINE_RADIUS,E.d2a(0),E.d2a(360),this.OUTER_LINE_LINE_WIDTH,this.OUTER_LINE_STROKE_STYLE),this.OUTER.x=this.cx,this.OUTER.y=this.cy,this.data.forEach(function(t,i){var s=E.d2a(i*this.ONE_COPIE_DEG),a=E.d2a((i+1)*this.ONE_COPIE_DEG),r=[],l=[];this.sectors.push(new h(this.SECTOR_RADIUS,s,a,this.SECTOR_WIDTH,t.color)),this.tragles.push(new e(this.TRANGLE_WIDTH,this.TRANGLE_HEIGHT,t.color)),this.divide_lines.push(new o(this.DIVE_LINES_WIDTH,this.DIVE_LINES_HEIGHT,this.DIVIDE_LINE_FILL_STYLE));for(var c=0;c<3;c++)0==c?r.push(new o(this.DEGREE_START_WIDTH,this.DEGREE_START_HEIGHT,t.color)):r.push(new o(this.DEGREE_WIDTH,this.DEGREE_HEIGHT,t.color));this.degrees.push(r),this.subCircles.push(new h(this.SUBCIRCLE_RADIUS,E.d2a(0),E.d2a(360),this.SUBCIRCLE_LINE_WIDTH,this.SUBCIRCLE_STROKE_STYLE,this.SUBCIRCLE_FILL_STYLE)),l.push({num:new n(this.TEXT_NUM_FONT,t.value,this.TEXT_FILL_STYLE),str:new n(this.TEXT_FONT,t.text,this.TEXT_FILL_STYLE)}),this.texts.push(l)}.bind(this)),this.centerText.push({num:new n(this.CENTER_TEXT_NUM_FONT,this.CENTER_TEXT.value,this.CENTER_TEXT_NUM_FILL_STYLE),str:new n(this.CENTER_TEXT_FONT,this.CENTER_TEXT.text,this.CENTER_TEXT_FILL_STYLE)});for(var t=0;t<3;t++)this.polygons.push(new a(this.cx,this.cy,6,this.POLYGON_RADIUS,this.POLYGON_LINE_WIDTH,this.POLYGON_FILL_STYLE,this.POLYGON_STROKE_STYLE,30*t)),this.polygons.push(new a(this.cx,this.cy,3,this.POLYGON_RADIUS,this.POLYGON_LINE_WIDTH,this.POLYGON_FILL_STYLE,this.POLYGON_STROKE_STYLE,30*t));this.hand=new o(this.HAND_WIDTH,this.HAND_HEIGHT,this.HAND_FILL_STYLE),this.mask=new r(this.MASK_RADIUS,this.SANGLE-90),this.mask.x=this.cx,this.mask.y=this.cy},createMask:function(t){return!!this.showMask&&(this.context.save(),this.context.translate(this.cx,this.cy),this.context.rotate(E.d2a(this.SANGLE+this.rotate)),this.hand.draw(this.context),this.context.restore(),void this.mask.draw(this.context,this.rotate))},drawElement:function(){this.context;this.polygons.forEach(function(t){t.draw(this.context)}.bind(this)),this.OUTER.draw(this.context),this.sectors.forEach(function(t){this.context.save(),this.context.translate(this.cx,this.cy),this.context.rotate(E.d2a(-90+this.SANGLE)),t.draw(this.context),this.context.restore()}.bind(this)),this.tragles.forEach(function(t,i){var s=this.rv(i);this.context.save(),this.context.translate(this.cx,this.cy),this.context.rotate(E.d2a(this.SANGLE+i*this.ONE_COPIE_DEG)+s),t.y=this.TRANGLE_RADIUS,t.draw(this.context),this.context.restore()}.bind(this)),this.subCircles.forEach(function(t,i){var s=this.rv(i);this.context.save(),this.context.translate(this.cx,this.cy),this.context.rotate(E.d2a(this.SANGLE+i*this.ONE_COPIE_DEG)+s),t.y=-this.OUTER_LINE_RADIUS,t.draw(this.context),this.context.restore()}.bind(this)),this.divide_lines.forEach(function(t,i){this.context.save(),this.context.translate(this.cx,this.cy),this.context.rotate(E.d2a(this.SANGLE+i*this.ONE_COPIE_DEG)),t.x=-1,t.y=this.DIVE_LINES_RADIUS,t.draw(this.context),this.context.restore()}.bind(this)),this.degrees.forEach(function(t,i){var s=i*this.ONE_COPIE_DEG;t.forEach(function(t,i,e){this.context.save(),this.context.translate(this.cx,this.cy),this.context.rotate(E.d2a(this.SANGLE+s+this.ONE_COPIE_DEG/e.length*i)),t.y=this.DEGREE_RADIUS,t.draw(this.context),this.context.restore()}.bind(this))}.bind(this)),this.center_value=0,this.texts.forEach(function(t,i){var s=this.rv(i);t.forEach(function(t,e,h){var n=E.d2a(this.SANGLE-90+i*this.ONE_COPIE_DEG+this.ONE_COPIE_DEG/h.length*e);this.context.save(),this.context.translate(this.cx,this.cy),t.num.text=Math.min(this.d2p(E.a2d(s)).toFixed(1),this.RADIX),t.num.visible=t.str.visible=0!==t.num.text,t.num.x=this.TEXT_RADIUS*Math.cos(n+s),t.num.y=this.TEXT_RADIUS*Math.sin(n+s)-this.TEXT_MARGIN,t.num.draw(this.context),t.str.x=this.TEXT_RADIUS*Math.cos(n+s),t.str.y=this.TEXT_RADIUS*Math.sin(n+s)+this.TEXT_MARGIN,t.str.draw(this.context),this.context.restore(),this.center_value+=t.num.text}.bind(this))}.bind(this)),this.createMask(this.context),this.centerText.forEach(function(t){this.context.save(),this.context.translate(this.cx,this.cy),t.num.text=this.center_value.toFixed(1),t.num.y=-this.CENTER_TEXT_MARGIN,t.num.draw(this.context),t.str.y=this.CENTER_TEXT_MARGIN,this.rotateEnd&&t.str.draw(this.context),this.context.restore()}.bind(this))},rv:function(t){return E.d2a(this.rotateEle["rotate"+t])},setRv:function(t){var i=this.p2d(this.data[t].value);this.rotateEle["rotate"+t]=Math.min(i,this.rotateEle["rotate"+t]+=this.speed)},draw:function(){this.context.fillStyle="#fff",this.context.fillRect(0,0,this.width,this.height),this.drawElement()},update:function(){this.rotate+=this.speed,this.rotate<360&&this.setRv(Math.floor(this.rotate/this.ONE_COPIE_DEG)),this.rotate>360&&(this.rotateEnd=!0,this.showMask=!1)},animate:function(){this.update(),this.draw(),!this.rotateEnd&&requestNextAnimationFrame(this.animate.bind(this))},scrollHandler:function(){var t=this.canvas.getBoundingClientRect();t.top+t.height/2<window.screen.height&&this.ready&&(this.ready=!1,this.animate())},destory:function(){window.removeEventListener("scroll",this.scrollHandler.bind(this),!1),l=null},init:function(){return 0!=this.data.length&&(this.margin=70,this.rotate=0,this.showMask=!0,this.speed=1,this.RADIX=5/this.data.length,this.ONE_COPIE_DEG=360/this.data.length,this.SANGLE=270,this.OUTER_LINE_STROKE_STYLE="#e8e8e8",this.OUTER_LINE_LINE_WIDTH=.5,this.OUTER_LINE_RADIUS=this.cx-this.margin/1.3-this.OUTER_LINE_LINE_WIDTH,this.OUTER=null,this.SECTOR_WIDTH=8,this.SECTOR_RADIUS=this.cx-this.margin-this.SECTOR_WIDTH,this.sectors_color=["#60588a","#526584","#c7a975","#c7b775"],this.sectors=[],this.tragles=[],this.TRANGLE_WIDTH=14,this.TRANGLE_HEIGHT=7,this.TRANGLE_RADIUS=-this.SECTOR_RADIUS-this.SECTOR_WIDTH/2-1,this.subCircles=[],this.SUBCIRCLE_FILL_STYLE=this.OUTER_LINE_STROKE_STYLE,this.SUBCIRCLE_STROKE_STYLE="#FFF",this.SUBCIRCLE_RADIUS=3,this.SUBCIRCLE_LINE_WIDTH=5,this.divide_lines=[],this.DIVE_LINES_WIDTH=1,this.DIVE_LINES_HEIGHT=this.SECTOR_WIDTH,this.DIVE_LINES_RADIUS=-this.SECTOR_RADIUS+this.SECTOR_WIDTH/2,this.DIVIDE_LINE_FILL_STYLE="#fff",this.polygons=[],this.POLYGON_RADIUS=this.SECTOR_RADIUS-this.SECTOR_WIDTH/2,this.POLYGON_STROKE_STYLE="#f1f1f1",this.POLYGON_FILL_STYLE="rgba(0, 0, 0, 0)",this.POLYGON_LINE_WIDTH=.65,this.degrees=[],this.DEGREE_WIDTH=.7,this.DEGREE_HEIGHT=-5,this.DEGREE_START_WIDTH=2,this.DEGREE_START_HEIGHT=-10,this.DEGREE_RADIUS=-this.SECTOR_RADIUS+this.SECTOR_WIDTH/2,this.data.forEach(function(t,i){this.rotateEle=this.rotateEle||{},this.rotateEle["rotate"+i]=0}.bind(this)),this.TEXT_NUM_FONT="18px Arial",this.TEXT_FONT="14px Arial",this.TEXT_FILL_STYLE="#35332f",this.TEXT_RADIUS=this.OUTER_LINE_RADIUS+this.margin/3,this.TEXT_MARGIN=9,this.texts=[],this.centerText=[],this.center_value=0,this.CENTER_TEXT_NUM_FILL_STYLE="#2e3539",this.CENTER_TEXT_NUM_FONT="bold 43px Arial",this.CENTER_TEXT_FILL_STYLE="#35332f",this.CENTER_TEXT_FONT="12px 宋体",this.CENTER_TEXT_MARGIN=15,this.hand=null,this.HAND_FILL_STYLE="#dfdfdf",this.HAND_WIDTH=1,this.HAND_HEIGHT=this.SECTOR_RADIUS+this.SECTOR_WIDTH/2-1,this.mask=null,this.MASK_RADIUS=this.SECTOR_RADIUS+this.SECTOR_WIDTH/2-1,this.ready=!0,this.addElement(),this.draw(),this.rotateEnd=!1,setTimeout(function(){this.scrollHandler()}.bind(this),0),void window.addEventListener("scroll",this.scrollHandler.bind(this),!1))}},i.default=l},function(t,i){"use strict";!function(t){var i=function(){var t=document.createElement("canvas"),i=t.getContext("2d"),s=i.backingStorePixelRatio||i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/s}(),s=function(t,i){for(var s in t)t.hasOwnProperty(s)&&i(t[s],s)},e={fillRect:"all",clearRect:"all",strokeRect:"all",moveTo:"all",lineTo:"all",arc:[0,1,2],arcTo:"all",bezierCurveTo:"all",isPointinPath:"all",isPointinStroke:"all",quadraticCurveTo:"all",rect:"all",translate:"all",createRadialGradient:"all",createLinearGradient:"all"};1!==i&&(s(e,function(s,e){t[e]=function(t){return function(){var e,h,n=Array.prototype.slice.call(arguments);if("all"===s)n=n.map(function(t){return t*i});else if(Array.isArray(s))for(e=0,h=s.length;e<h;e++)n[s[e]]*=i;return t.apply(this,n)}}(t[e])}),t.stroke=function(t){return function(){this.lineWidth*=i,t.apply(this,arguments),this.lineWidth/=i}}(t.stroke),t.fillText=function(t){return function(){var s=Array.prototype.slice.call(arguments);s[1]*=i,s[2]*=i,this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,function(t,s,e){return s*i+e}),t.apply(this,s),this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,function(t,s,e){return s/i+e})}}(t.fillText),t.strokeText=function(t){return function(){var s=Array.prototype.slice.call(arguments);s[1]*=i,s[2]*=i,this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,function(t,s,e){return s*i+e}),t.apply(this,s),this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,function(t,s,e){return s/i+e})}}(t.strokeText))}(document.getElementById("cvs").getContext("2d")),function(t){t.getContext=function(t){return function(i){var s,e,h=t.call(this,i);return"2d"===i&&(s=h.backingStorePixelRatio||h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1,e=(window.devicePixelRatio||1)/s,e>1&&(this.style.height=this.height+"px",this.style.width=this.width+"px",this.width*=e,this.height*=e)),h}}(t.getContext)}(document.getElementById("cvs"))},function(t,i){"use strict";window.requestNextAnimationFrame=function(){var t=void 0,i=void 0,s=0,e=navigator.userAgent,h=0,n=this;return window.webkitRequestAnimationFrame&&(i=function(t){void 0===t&&(t=+new Date),n.callback(t)},t=window.webkitRequestAnimationFrame,window.webkitRequestAnimationFrame=function(s,e){n.callback=s,t(i,e)}),window.mozRequestAnimationFrame&&(h=e.indexOf("rv:"),e.indexOf("Gecko")!=-1&&(s=e.substr(h+3,3),"2.0"===s&&(window.mozRequestAnimationFrame=void 0))),window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,i){var s,e;window.setTimeout(function(){s=+new Date,t(s),e=+new Date,n.timeout=1e3/60-(e-s)},n.timeout)}}()}])});